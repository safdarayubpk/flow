# OCI OKE deployment overrides for todo-backend
# Usage: helm upgrade --install todo-backend ./k8s/backend --values k8s/backend/values-oci.yaml

image:
  repository: safdarayub/todo-backend
  tag: v3-complete
  pullPolicy: Always

resources:
  requests:
    cpu: 64m
    memory: 128Mi
  limits:
    cpu: 250m
    memory: 384Mi

service:
  port: 7860
  targetPort: 7860

env:
  LOG_LEVEL: "INFO"
  CORS_ORIGINS: "http://139.185.51.243"
  DAPR_ENABLED: "true"

# Dapr sidecar injection
podAnnotations:
  dapr.io/enabled: "true"
  dapr.io/app-id: "todo-backend"
  dapr.io/app-port: "7860"
  dapr.io/log-level: "warn"
  dapr.io/sidecar-cpu-request: "10m"
  dapr.io/sidecar-memory-request: "32Mi"
  dapr.io/sidecar-cpu-limit: "100m"
  dapr.io/sidecar-memory-limit: "64Mi"
